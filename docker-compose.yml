version: '3'
services:
  rabbit:
    image: rabbitmq:3.10.7-management
    environment:
      - RABBITMQ_DEFAULT_USER=rmuser
      - RABBITMQ_DEFAULT_PASS=rmpassword
    ports:
      - 15672:15672
      - 5672:5672
  server:
    image: ${DOCKER_REGISTRY-}server
    build:
      context: ./Server
      dockerfile: Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: "Development"
    ports: 
      - "6060:1010"
  client:
    image: ${DOCKER_REGISTRY-}client
    build:
      context: ./Client
      dockerfile: Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: "Development"
    ports: 
      - "4040:7070"
  